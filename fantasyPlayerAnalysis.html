<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas Hudson">
<meta name="keywords" content="R, data viz">

<title>NFL Player Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="fantasyPlayerAnalysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="fantasyPlayerAnalysis_files/libs/quarto-html/quarto.js"></script>
<script src="fantasyPlayerAnalysis_files/libs/quarto-html/popper.min.js"></script>
<script src="fantasyPlayerAnalysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="fantasyPlayerAnalysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="fantasyPlayerAnalysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="fantasyPlayerAnalysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="fantasyPlayerAnalysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="fantasyPlayerAnalysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="fantasyPlayerAnalysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">NFL Player Analysis</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Thomas Hudson </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.appstate.edu/">
            Appalachian State University
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Last modified on December 10, 2024 21:04:48 Eastern Standard Time</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This is an exploration to the statistics from the 2023 NFL season. This data analysis hopes to explore different facets of the statistics provided to find common trends.</p>
<section id="loading-neccesary-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-neccesary-packages">Loading Neccesary Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For data manipulation and tidying</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#to unpack .parq files</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arrow)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'arrow'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:lubridate':

    duration</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    timestamp</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For data visualizations</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-the-data" class="level2">
<h2 class="anchored" data-anchor-id="importing-the-data">Importing the Data</h2>
<p>All of the data can be downloaded from <a href="https://www.kaggle.com/datasets/jpmiller/nfl-competition-data/data">Kaggle</a>. This project contains 3 data sets, the .parq files utilize the arrow package to pull the massive files into .csv files, and each file is imported and inspected independently using the <code>read.csv()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#creating a .csv file for the players dataset</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#this was run one time to pull the data into my folder, then reorganized</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#players &lt;- read_parquet("./competition_data/players.parq")</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(players, "players.csv", row.names = FALSE)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>players <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./data/players.csv"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#games &lt;- read_parquet("./competition_data/games.parq")</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(games, "games.csv", row.names = FALSE)</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>games <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./data/games.csv"</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                    <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#plays &lt;- read_parquet("./competition_data/plays.parq")</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(plays, "plays.csv", row.names = FALSE)</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>plays <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"./data/plays.csv"</span>,</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>                    <span class="at">header =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>                    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The .parq files will not be included in the github for this project due to the size of the files being too large.</p>
<section id="data-structures-and-variables" class="level3">
<h3 class="anchored" data-anchor-id="data-structures-and-variables">Data Structures and Variables</h3>
<section id="players" class="level4">
<h4 class="anchored" data-anchor-id="players"><code>players</code></h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,683
Columns: 7
$ nflId       &lt;int&gt; 25511, 29550, 29851, 30842, 33084, 33099, 33107, 33130, 33…
$ height      &lt;dbl&gt; 6.333, 6.333, 6.167, 6.500, 6.333, 6.500, 6.333, 5.833, 6.…
$ weight      &lt;int&gt; 225, 328, 225, 267, 217, 245, 315, 175, 300, 222, 220, 229…
$ birthDate   &lt;chr&gt; "1977-08-02 20:00:00", "1982-01-21 19:00:00", "1983-12-01 …
$ collegeName &lt;chr&gt; "Michigan", "Arkansas", "California", "UCLA", "Boston Coll…
$ position    &lt;chr&gt; "QB", "T", "QB", "TE", "QB", "QB", "T", "WR", "DE", "QB", …
$ displayName &lt;chr&gt; "Tom Brady", "Jason Peters", "Aaron Rodgers", "Marcedes Le…</code></pre>
</div>
</div>
<p>There are 7 variables in the data <code>players</code> data frame:</p>
<ol type="1">
<li><p><code>nflId</code>: Unique identifier for the player.</p></li>
<li><p><code>height</code>: Height of the player in feet.</p></li>
<li><p><code>weight</code>: Weight of the player in pounds.</p></li>
<li><p><code>birthDate</code>: Player’s date of birth (some missing values).</p></li>
<li><p><code>collegeName</code>: The college the player attended.</p></li>
<li><p><code>position</code>: The player’s position in the team (e.g., QB, T, TE).</p></li>
<li><p><code>displayName</code>: The player’s name.</p></li>
</ol>
</section>
<section id="games" class="level4">
<h4 class="anchored" data-anchor-id="games"><code>games</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(games)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 136
Columns: 8
$ gameId            &lt;int&gt; 2022090800, 2022091100, 2022091101, 2022091102, 2022…
$ season            &lt;int&gt; 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022…
$ week              &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2…
$ homeTeamAbbr      &lt;chr&gt; "LA", "ATL", "CAR", "CHI", "CIN", "DET", "HOU", "MIA…
$ visitorTeamAbbr   &lt;chr&gt; "BUF", "NO", "CLE", "SF", "PIT", "PHI", "IND", "NE",…
$ homeFinalScore    &lt;int&gt; 10, 26, 24, 19, 20, 35, 20, 20, 9, 28, 21, 24, 23, 2…
$ visitorFinalScore &lt;int&gt; 31, 27, 26, 10, 23, 38, 20, 7, 24, 22, 44, 19, 7, 21…
$ gameDatetime      &lt;chr&gt; "2022-09-08 16:20:00", "2022-09-11 09:00:00", "2022-…</code></pre>
</div>
</div>
<p>There are 8 variables in the <code>games</code> data set</p>
<ol type="1">
<li><p><code>gameId</code>: A unique identifier for each game.</p></li>
<li><p><code>season</code>: The year of the season during which the game was played.</p></li>
<li><p><code>week</code>: The week number of the NFL season.</p></li>
<li><p><code>homeTeamAbbr</code>: The abbreviation of the home team’s name.</p></li>
<li><p><code>visitorTeamAbbr</code>: The abbreviation of the visiting team’s name.</p></li>
<li><p><code>homeFinalScore</code>: The final score of the home team.</p></li>
<li><p><code>visitorFinalScore</code>: The final score of the visiting team.</p></li>
<li><p><code>gameDatetime</code>: The date and time when the game occurred.</p></li>
</ol>
</section>
<section id="plays" class="level4">
<h4 class="anchored" data-anchor-id="plays"><code>plays</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(plays)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 12,486
Columns: 35
$ gameId                           &lt;int&gt; 2022100908, 2022091103, 2022091111, 2…
$ playId                           &lt;int&gt; 3537, 3126, 1148, 2007, 1372, 2165, 2…
$ ballCarrierId                    &lt;int&gt; 48723, 52457, 42547, 46461, 47857, 54…
$ ballCarrierDisplayName           &lt;chr&gt; "Parker Hesse", "Chase Claypool", "Da…
$ playDescription                  &lt;chr&gt; "(7:52) (Shotgun) M.Mariota pass shor…
$ quarter                          &lt;int&gt; 4, 4, 2, 3, 2, 3, 4, 1, 2, 3, 3, 3, 4…
$ down                             &lt;int&gt; 1, 1, 2, 2, 1, 3, 3, 1, 1, 1, 3, 3, 3…
$ yardsToGo                        &lt;int&gt; 10, 10, 5, 10, 10, 17, 5, 10, 10, 10,…
$ possessionTeam                   &lt;chr&gt; "ATL", "PIT", "LV", "DEN", "BUF", "AT…
$ defensiveTeam                    &lt;chr&gt; "TB", "CIN", "LAC", "LV", "TEN", "CAR…
$ yardlineSide                     &lt;chr&gt; "ATL", "PIT", "LV", "DEN", "TEN", "AT…
$ yardlineNumber                   &lt;int&gt; 41, 34, 30, 37, 35, 18, 25, 25, 40, 2…
$ gameClock                        &lt;chr&gt; "00:07:52", "00:07:38", "00:08:57", "…
$ preSnapHomeScore                 &lt;int&gt; 21, 14, 10, 19, 7, 14, 17, 0, 13, 23,…
$ preSnapVisitorScore              &lt;int&gt; 7, 20, 3, 16, 7, 13, 24, 0, 7, 27, 0,…
$ passResult                       &lt;chr&gt; "C", NA, "C", NA, NA, "C", "R", NA, N…
$ passLength                       &lt;int&gt; 6, NA, 11, NA, NA, -5, NA, NA, NA, -5…
$ penaltyYards                     &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ prePenaltyPlayResult             &lt;int&gt; 9, 3, 15, 7, 3, 5, 3, 7, 9, 3, 3, 5, …
$ playResult                       &lt;int&gt; 9, 3, 15, 7, 3, 5, 3, 7, 9, 3, 3, 5, …
$ playNullifiedByPenalty           &lt;chr&gt; "N", "N", "N", "N", "N", "N", "N", "N…
$ absoluteYardlineNumber           &lt;int&gt; 69, 76, 40, 47, 75, 28, 85, 85, 70, 8…
$ offenseFormation                 &lt;chr&gt; "SHOTGUN", "SHOTGUN", "I_FORM", "SING…
$ defendersInTheBox                &lt;int&gt; 7, 7, 6, 6, 7, 5, 4, 7, 6, 7, 6, 6, 6…
$ passProbability                  &lt;dbl&gt; 0.7472844, 0.4164537, 0.2679328, 0.59…
$ preSnapHomeTeamWinProbability    &lt;dbl&gt; 0.976784671, 0.160484683, 0.756661031…
$ preSnapVisitorTeamWinProbability &lt;dbl&gt; 0.02321533, 0.83951532, 0.24333897, 0…
$ homeTeamWinProbabilityAdded      &lt;dbl&gt; -0.006110488, -0.010864805, -0.037408…
$ visitorTeamWinProbilityAdded     &lt;dbl&gt; 0.006110488, 0.010864805, 0.037408687…
$ expectedPoints                   &lt;dbl&gt; 2.3606089, 1.7333441, 1.3128546, 1.64…
$ expectedPointsAdded              &lt;dbl&gt; 0.98195511, -0.26342389, 1.13366620, …
$ foulName1                        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ foulName2                        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ foulNFLId1                       &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ foulNFLId2                       &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</code></pre>
</div>
</div>
<p>There are 35 variables in the <code>games</code> data set</p>
<ol type="1">
<li><p><code>gameId</code>: Unique identifier for the game.</p></li>
<li><p><code>playId</code>: Unique identifier for the play within the game.</p></li>
<li><p><code>ballCarrierId</code>: NFL ID of the ball carrier during the play (if applicable).</p></li>
<li><p><code>ballCarrierDisplayName</code>: Name of the ball carrier during the play (if applicable).</p></li>
<li><p><code>playDescription</code>: Textual description of the play, including actions and results.</p></li>
<li><p><code>quarter</code>: The quarter of the game when the play occurred.</p></li>
<li><p><code>down</code>: The down number during the play (e.g., 1st, 2nd).</p></li>
<li><p><code>yardsToGo</code>: The number of yards needed for a first down at the start of the play.</p></li>
<li><p><code>possessionTeam</code>: The team that possessed the ball during the play.</p></li>
<li><p><code>defensiveTeam</code>: The team defending during the play.</p></li>
<li><p><code>yardlineSide</code>: The side of the field where the play started, based on the team.</p></li>
<li><p><code>yardlineNumber</code>: The specific yard line where the play started.</p></li>
<li><p><code>gameClock</code>: The time remaining in the game during the play (in MM:SS).</p></li>
<li><p><code>preSnapHomeScore</code>: The home team’s score before the play began.</p></li>
<li><p><code>preSnapVisitorScore</code>: The visiting team’s score before the play began.</p></li>
<li><p><code>passResult</code>: Outcome of the pass play (if applicable, e.g., completed, intercepted).</p></li>
<li><p><code>passLength</code>: Distance of the pass in yards (if applicable).</p></li>
<li><p><code>penaltyYards</code>: The number of yards gained or lost due to penalties (if applicable).</p></li>
<li><p><code>prePenaltyPlayResult</code>: Outcome of the play before accounting for penalties (in yards).</p></li>
<li><p><code>playResult</code>: Final outcome of the play, including penalty effects (in yards).</p></li>
<li><p><code>playNullifiedByPenalty</code>: Indicator of whether the play was nullified due to a penalty.</p></li>
<li><p><code>absoluteYardlineNumber</code>: Standardized yard line on the field where the play began.</p></li>
<li><p><code>offenseFormation</code>: The offensive team’s formation during the play (e.g., shotgun).</p></li>
<li><p><code>defendersInTheBox</code>: The number of defensive players positioned near the line of scrimmage.</p></li>
<li><p><code>passProbability</code>: Probability of a pass play based on pre-play context.</p></li>
<li><p><code>preSnapHomeTeamWinProbability</code>: The home team’s likelihood of winning before the play.</p></li>
<li><p><code>preSnapVisitorTeamWinProbability</code>: The visiting team’s likelihood of winning before the play.</p></li>
<li><p><code>homeTeamWinProbabilityAdded</code>: Change in the home team’s win probability due to the play.</p></li>
<li><p><code>visitorTeamWinProbabilityAdded</code>: Change in the visiting team’s win probability due to the play.</p></li>
<li><p><code>expectedPoints</code>: The expected points based on field position before the play.</p></li>
<li><p><code>expectedPointsAdded</code>: Change in expected points due to the play.</p></li>
<li><p><code>foulName1</code>: Name of the first foul committed during the play (if applicable).</p></li>
<li><p><code>foulName2</code>: Name of the second foul committed during the play (if applicable).</p></li>
<li><p><code>foulNFLId1</code>: NFL ID of the player who committed the first foul (if applicable).</p></li>
<li><p><code>foulNFLId2</code>: NFL ID of the player who committed the second foul (if applicable).</p></li>
</ol>
</section>
</section>
</section>
</section>
<section id="data-visualization" class="level1">
<h1>Data Visualization</h1>
<section id="exploring-the-games-dataset" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-games-dataset">Exploring the <code>games</code> Dataset</h2>
<section id="home-team-advantage" class="level3">
<h3 class="anchored" data-anchor-id="home-team-advantage">Home Team Advantage?</h3>
<p>First thing I as hoping to analyze was whether the home team truely had an advantage.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-graph1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fantasyPlayerAnalysis_files/figure-html/fig-graph1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: line graph that compares the average scores of home and visiting teams across weeks or seasons.</figcaption>
</figure>
</div>
</div>
</div>
<p>Generally, the home team scored more points than the visiting team.</p>
</section>
<section id="close-games-vs.-blow-outs" class="level3">
<h3 class="anchored" data-anchor-id="close-games-vs.-blow-outs">Close games vs.&nbsp;Blow outs</h3>
<p>I also want to figure out what is a “normal margin of vistory in a game. Do teams normally win by a lot of points, or is there some score that is more common than others.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-graph2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fantasyPlayerAnalysis_files/figure-html/fig-graph2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Histogram that analyzes the distribution of score differences</figcaption>
</figure>
</div>
</div>
</div>
<p>By far, the most common margin of victory/defeat is 3 points, which is equivaalent to 1 field goal. It also appears that after about 10 points, the margins occur just about as often as each other, all 5 or less times, with a few outlier differences past 24.</p>
</section>
</section>
<section id="exploring-the-plays-data-set" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-plays-data-set">Exploring the <code>plays</code> data set</h2>
<section id="play-outcome-by-formation" class="level3">
<h3 class="anchored" data-anchor-id="play-outcome-by-formation">Play Outcome by Formation</h3>
<p>I want to figure out which formations lead to the most positive results</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-graph3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fantasyPlayerAnalysis_files/figure-html/fig-graph3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Bar graph analyzing yards per play by formation</figcaption>
</figure>
</div>
</div>
</div>
<p>It seems that the formations that utilize 0 or 1 runningbacks (empty, shotgun, singleback) end up averaging more yards than formations with 2 or more running backs. This can be very circumsatntial, as those plays may be run in “passing obvious” situations where the defending team is simply trying to prevent a big play, where as heavier formations will be used in short yardage situations to guarentee positive gains without the inherent risk of an incomplete or intercepted pass.</p>
</section>
<section id="defenders-in-the-box-vs.-position-on-the-field" class="level3">
<h3 class="anchored" data-anchor-id="defenders-in-the-box-vs.-position-on-the-field">Defenders in the box vs.&nbsp;position on the field</h3>
<p>“The box” on defense refers to the area on the field between the edge of the down linemen, withing about 5-7 yards of the line of scrimmage. This often is to ensure a strong run defense at the cost of bigger, less mobile players having to be in pass coverage. This chart looks to figure out if there is a corelation between position on the field and how many defenders are in the box.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing non-finite outside the scale range
(`stat_binhex()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 5 rows containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-graph4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fantasyPlayerAnalysis_files/figure-html/fig-graph4-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: hexagonal point graph for yardline number against defenders in the box.</figcaption>
</figure>
</div>
</div>
</div>
<p>This graph shows us that generally, teams mostly use between 5 players in the box (most often referred to as “dime package”) and 8 players in the box (which is just 8-in-the box). There seems to be a slightly negative trend in yard line number and defenders in the box, meaning that there is some correlation between the start of the play on th field, and defenders in the box.</p>
</section>
</section>
<section id="combined-analysis" class="level2">
<h2 class="anchored" data-anchor-id="combined-analysis">Combined Analysis</h2>
<section id="player-attributes-and-play-success" class="level3">
<h3 class="anchored" data-anchor-id="player-attributes-and-play-success">Player Attributes and Play Success</h3>
<p>This graph aims to analyze what is th “ideal” player weight in terms of yards gained per carry.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-graph5" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="fantasyPlayerAnalysis_files/figure-html/fig-graph5-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;5: scatter plot with the weight of every player who has carried the ball, and how many yars were gained on that attempt</figcaption>
</figure>
</div>
</div>
</div>
<p>This shows that on average, there is not a lot of correlation between weight, and being a better ball carrier, but it appear that players between 180 and 230 lbs account for the most big gains, with it being somewhat more frequent as you get closer to the middle at about 210.</p>
</section>
<section id="college-representation-and-game-impact" class="level3">
<h3 class="anchored" data-anchor-id="college-representation-and-game-impact">College Representation and Game Impact</h3>
<p>This graph looks to analyze which colleges produce the players with the most positive game impact</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>scoring_plays <span class="ot">&lt;-</span> combined_data <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(playResult <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(collegeName) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_yards =</span> <span class="fu">sum</span>(playResult, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_yards)) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">10</span>, total_yards)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar chart for colleges</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(scoring_plays, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(collegeName, total_yards), <span class="at">y =</span> total_yards)) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"orange"</span>) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Top Colleges Contributing to Scoring Plays"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"College"</span>, <span class="at">y =</span> <span class="st">"Total Yards Gained"</span>) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="fantasyPlayerAnalysis_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Alabama has produced the most yards by a substantial margin compared to the rest of country. The South Eastern Conference (SEC) also accounts for the rest of the top 4, and 7 of the total schools shown above. These schools have been the most successful at producing players to go to the NFL, and having players then have a positive impact on those games.</p>
</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>